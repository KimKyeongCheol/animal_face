<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGIC-TREE</title>
    <link rel="icon" href="image/Favicon.png" type="image/png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="ad-top"></div>
        <img id="site-logo" src="image/logo.png" alt="LOGIC-TREE Logo">
        <h1>LOGIC-TREE</h1> <!-- Site title, always visible -->
        <button id="hamburger-menu-btn" class="menu-icon">☰</button> <!-- Hamburger icon -->
        
        <div id="desktop-nav-controls"> <!-- Desktop navigation container -->
            <div id="navigation-controls">
                <button id="go-to-start-btn" class="nav-btn">🏠</button>
            </div>
            <div id="language-switcher">
                <button id="lang-ko" class="lang-btn active">한국어</button>
                <button id="lang-en" class="lang-btn">English</button>
            </div>
            <div id="theme-switcher">
                <button id="theme-toggle" class="theme-btn">☀️</button>
            </div>
        </div>

        <div id="mobile-full-screen-menu"> <!-- Mobile full-screen menu overlay -->
            <button id="mobile-menu-close-btn" class="menu-icon">✕</button> <!-- New close button for overlay -->
            <div id="navigation-controls-mobile">
                <button id="go-to-start-btn-mobile" class="nav-btn">🏠</button>
            </div>
            <div id="language-switcher-mobile">
                <button id="lang-ko-mobile" class="lang-btn active">한국어</button>
                <button id="lang-en-mobile" class="lang-btn">English</button>
            </div>
            <div id="theme-switcher-mobile">
                <button id="theme-toggle-mobile" class="theme-btn">☀️</button>
            </div>
        </div>
    </header>
    <div class="container">
        <aside class="ad-side-left"></aside>
        <main>
            <div id="loading-indicator" class="hidden">
                <div class="spinner"></div>
                <p>로딩 중...</p>
            </div>
            <div id="start-screen">
                <h2>당신의 마인드 유형을 분석합니다.</h2>
                <p>몇 가지 시나리오 기반 질문에 답변하고 당신의 생각 패턴을 알아보세요.</p>
                <button id="start-btn" class="try-again-btn">시작하기</button>
            </div>

            <div id="test-screen" class="hidden">
                <div id="progress-indicator"></div> <!-- New progress indicator -->
                <p id="question-text"></p>
                <div id="answer-buttons" class="answer-buttons">
                    <!-- Answer buttons will be generated by JavaScript -->
                </div>
            </div>

            <div id="result-screen" class="hidden">
                <div id="result-icon"></div> <!-- New element for icon -->
                <h2>당신의 마인드 유형은:</h2>
                <p id="result-title" class="result-message"></p>
                <p id="result-description"></p>
                <div id="high-score-insight" class="result-text-block"></div>
                <div id="low-score-advice" class="result-text-block"></div>
                <div id="short-summary" class="result-text-block"></div>
                <div id="humorous-insight" class="result-text-block"></div>
                <div id="call-to-action" class="result-text-block cta-block"></div>
                <div id="secondary-results">
                    <!-- Secondary results will be displayed here by JavaScript -->
                </div>
                <canvas id="score-chart"></canvas>
                <button id="retry-btn" class="try-again-btn">다시 테스트하기</button>
                <div id="share-buttons">
                    <button id="share-kakaotalk" class="share-btn kakaotalk">카카오톡 공유</button>
                    <button id="share-twitter" class="share-btn twitter">트위터 공유</button>
                    <button id="share-facebook" class="share-btn facebook">페이스북 공유</button>
                    <button id="save-image-btn" class="share-btn">이미지로 저장</button>
                    <button id="copy-result-btn" class="share-btn">결과 복사</button>
                </div>
            </div>

            <!-- Admin Screen for Question Management -->
            <div id="admin-screen" class="hidden">
                <h2>질문 관리 (Admin)</h2>
                <div class="admin-controls">
                    <button id="admin-exit-btn" class="try-again-btn">관리 종료</button>
                    <button id="admin-add-question-btn" class="try-again-btn">새 질문 추가</button>
                </div>

                <div id="admin-question-list">
                    <!-- Questions will be rendered here -->
                </div>

                <div id="admin-pagination-controls" class="pagination-controls">
                    <!-- Pagination buttons will be generated by JavaScript -->
                </div>

                <form id="admin-question-form" class="hidden">
                    <h3>질문 편집/추가</h3>
                    <input type="hidden" id="admin-question-index">

                    <div class="form-section">
                        <div class="dual-language-field">
                            <div class="field-group">
                                <label for="admin-question-text-ko">질문 텍스트 (KO)</label>
                                <textarea id="admin-question-text-ko" rows="3" required></textarea>
                            </div>
                            <div class="field-group">
                                <label for="admin-question-text-en">Question Text (EN)</label>
                                <textarea id="admin-question-text-en" rows="3" required></textarea>
                            </div>
                        </div>
                        <div class="field-group">
                            <label for="admin-question-weight">가중치 (0.1~3)</label>
                            <input type="number" id="admin-question-weight" value="1" min="0.1" max="3" step="0.1">
                        </div>
                    </div>

                    <h4>선택지 (5개 필수)</h4>
                    <div id="admin-choices-container">
                        <!-- Choice fields will be dynamically generated here -->
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" id="admin-save-question-btn" class="try-again-btn">저장</button>
                        <button type="button" id="admin-cancel-edit-btn" class="share-btn">취소</button>
                    </div>
                </form>
            </div>
        </main>
        <aside class="ad-side-right"></aside>
    </div>
    <footer>
        <div class="ad-bottom"></div>
        <p>&copy; 2026</p>
    </footer>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="main.js"></script>
</body>
</html>